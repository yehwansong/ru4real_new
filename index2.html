<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			body,html { margin: 0; 
				width: 100%;
				height: 100%}
				body{background-image: url(img/bg.jpeg);
					background-repeat: repeat;
					background-size: cover;}
		</style>
	</head>
	<body>
		<script src="https://code.jquery.com/jquery-3.6.4.js" integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E=" crossorigin="anonymous"></script>
		<script type="module">
			import * as THREE from 'https://unpkg.com/three/build/three.module.js';
			import { GLTFLoader } from './js/GLTFLoader.js';
import { OrbitControls } from './js/OrbitControls.js';


const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
const renderer = new THREE.WebGLRenderer();
	  renderer.setSize( window.innerWidth, window.innerHeight );
document.body.appendChild( renderer.domElement );
const loader = new GLTFLoader();

var counter = 0

var mixer

const light = new THREE.DirectionalLight( 0xffffff, 1 );
light.position.set( 0, 0, 1 );
scene.add( light );

function degreesToRadians(degrees) {
	const radians = degrees * Math.PI / 180;
	return radians;
}
const pathObjects = [];
const nullObjects = [];

var null_pos = [ [ [ 985.4308471679688, 100, 1503.3370361328125 ] ], [ [ -1314.1064453125, 0, 887.3046875 ] ], [ [ 217.06353759765625, -150, 53.24908447265625 ], [ 217.06353759765625, -150, 28.24908447265625 ], [ 217.06353759765625, -150, 3.24908447265625 ], [ 217.06353759765625, -150, -21.75091552734375 ], [ 217.06353759765625, -150, -46.75091552734375 ] ], [ [ 1783.66552734375, -150, 641.1002197265625 ] ], [ [ -621.67822265625, 100, -663.185302734375 ] ], [ [ -1314.1064453125, 0, 629.5208740234375 ] ], [ [ 150.1352996826172, 100, -592.0118408203125 ] ], [ [ 1783.66552734375, -88.08936309814453, 691.1002197265625 ] ], [ [ -103.00930786132812, 100, 1217.4127197265625 ] ], [ [ -529.9364624023438, -73.52481842041016, 29.24908447265625 ] ], [ [ 216.54273986816406, 100, 1251.0587158203125 ] ], [ [ -471.3650207519531, -200, 45.91575241088867 ] ], [ [ -768.1920776367188, -200, 112.23155212402344 ] ], [ [ 296.9906921386719, 100, 797.8413696289062 ] ], [ [ -825.3349609375, -200, 499.2315368652344 ] ], [ [ 159.39987182617188, 100, 764.8206787109375 ] ], [ [ -904.8951416015625, -280.9115295410156, 471.3982238769531 ] ], [ [ -917.7522583007812, -130.91151428222656, 363.06488037109375 ], [ -917.7522583007812, -130.91151428222656, 404.56488037109375 ] ], [ [ -214.8650360107422, -200, -469.1017761230469 ] ], [ [ 902.5452270507812, -67.79586029052734, 642.6690673828125 ], [ 883.9319458007812, 50, 660.7490844726562 ], [ 883.9319458007812, -75, 460.74908447265625 ], [ 883.9319458007812, 50, 460.74908447265625 ] ], [ [ 271.9718322753906, 100, -329.46173095703125 ] ], [ [ 765.5635375976562, -75, 263.74908447265625 ], [ 565.5635375976562, -75, 263.74908447265625 ], [ 765.5635375976562, 50, 263.74908447265625 ], [ 565.5635375976562, 50, 263.74908447265625 ] ], [ [ 1154.0946044921875, 100, 1035.59130859375 ] ], [ [ -601.109375, -200, 820.2666015625 ] ], [ [ 683.9319458007812, -200, 594.0823974609375 ] ], [ [ 1339.6627197265625, 100, 1073.07470703125 ] ], [ [ 1240.247802734375, -200, -10.935115814208984 ] ], [ [ 1288.7364501953125, -200, 232.06488037109375 ] ], [ [ 561.8262329101562, 100, 888.3450927734375 ] ], [ [ 1670.787841796875, 100, 145.20448303222656 ] ], [ [ -1637.63330078125, 0, 817.3046875 ] ], [ [ 1325.523193359375, 100, 1704.140869140625 ] ], [ [ 897.390625, -200, -10.935115814208984 ] ], [ [ 1598.4959716796875, -200, 619.18115234375 ] ], [ [ 605.7747802734375, 100, 1207.0521240234375 ] ], [ [ 1495.7718505859375, -200, 610.0648803710938 ] ], [ [ 1792.5875244140625, 100, 382.86297607421875 ] ], [ [ 1128.67626953125, -200, 610.0648803710938 ] ], [ [ 309.8492431640625, -200, 1051.06494140625 ] ], [ [ 1071.87939453125, -200, 439.06488037109375 ] ], [ [ -744.2522583007812, 100, -159.06671142578125 ] ], [ [ 1091.920654296875, 100, -488.75091552734375 ] ], [ [ 1624.38037109375, 100, 61.01438522338867 ] ], [ [ -547.7140502929688, -200, -900.627685546875 ] ], [], [ [ -157.72216796875, -361.8230285644531, -698.6422119140625 ] ], [ [ 1804.572265625, 100, -176.32041931152344 ] ], [ [ -882.477783203125, -200, -265.7684631347656 ] ], [ [ 737.77783203125, 100, -326.75091552734375 ] ], [ [ -502.74334716796875, 100, -343.01611328125 ] ], [ [ 1339.6627197265625, 100, 1350.74609375 ] ], [ [ -1561.4693603515625, -200, 1485.2105712890625 ] ], [ [ -1530.2064208984375, 0, 1642.978759765625 ] ], [ [ 464.8185729980469, -13.41308307647705, 1010.7490844726562 ] ], [ [ 946.0247192382812, -80, -359.7606201171875 ], [ 895.061279296875, 43.03657913208008, -359.7606201171875 ], [ 838.6116333007812, 80.75503540039062, -359.7606201171875 ] ], [ [ 1857.6427001953125, 100, 145.20448303222656 ] ], [ [ 1320.6151123046875, 100, 139.6256866455078 ] ], [ [ 266.4971923828125, -85, -231.83505249023438 ] ], [ [ -1504.326416015625, -200, 1791.0313720703125 ] ], [ [ -1311.082275390625, 125, 1749.8564453125 ] ], [], [ [ -904.2952880859375, -140, -637.32275390625 ] ], [ [ -740.0872192382812, -140, 1601.7255859375 ] ], [ [ -794.6903076171875, -200, 1436.2886962890625 ] ], [ [ -569.88671875, -200, -1345.6455078125 ] ], [ [ -127.15904998779297, -507.7980041503906, -256.0963439941406 ] ], [ [ -214.54498291015625, -507.7980041503906, -247.5260772705078 ] ], [ [ 1935.88232421875, -21.36153793334961, -205.75091552734375 ] ], [ [ 852.9541015625, 100, 902.2579345703125 ] ], [ [ 818.1665649414062, 100, 1263.3629150390625 ] ], [ [ 463.06353759765625, 11, 64.24908447265625 ] ], [ [ 2013.64501953125, 100, 1332.278564453125 ] ], [ [ -922.8442993164062, 0, -860.9743041992188 ] ], [ [ -1107.201904296875, -21, 705.9190063476562 ] ], [ [ 670.0635375976562, 43, 118.24908447265625 ] ], [ [ 733.3612060546875, 100, 1140.385498046875 ] ], [ [ -1893.1744384765625, 0, 1207.049072265625 ] ], [ [ 1582.898193359375, 100, 58.72988510131836 ] ], [ [ -49.936458587646484, 75, -656.7258911132812 ] ], [ [ -43.936458587646484, -150, 829.2490844726562 ] ], [ [ 847.3597412109375, 100, 778.5206298828125 ] ], [ [ 491.9874572753906, 100, 471.0123596191406 ] ], [ [ 244.06353759765625, -150, 863.2490844726562 ] ], [ [ 311.4017028808594, 100, 594.455322265625 ] ], [ [ 487.06353759765625, -150, 825.2490844726562 ] ] ]
var null_pos_under = [ [ [ [ 156.22833251953125, 0, 0 ] ] ], [ [ [ 157.65286254882812, 0, 0 ] ] ], [ [ [ 620, 0, 0 ] ], [ [ 620, 0, 0 ] ], [ [ 620, 0, 0 ] ], [ [ 620, 0, 0 ] ], [ [ 620, 0, 0 ] ] ], [ [ [ 215.33074951171875, 0, 0 ] ] ], [ [ [ 103.28883361816406, 0, 0 ] ] ], [ [ [ 486.5271911621094, 0, 0 ] ] ], [ [ [ 153.02049255371094, 0, 0 ] ] ], [ [ [ 111.51055908203125, 0, 0 ] ] ], [ [ [ 90.74046325683594, 0, 0 ] ] ], [ [ [ 296.07977294921875, 0, 0 ] ] ], [ [ [ 48.75941848754883, 0, 0 ] ] ], [ [ [ 115.35575103759766, 0, 0 ] ] ], [ [ [ 196.79751586914062, 0, 0 ] ] ], [ [ [ 91.32345581054688, 0, 0 ] ] ], [ [ [ 191.33091735839844, 0, 0 ] ] ], [ [ [ 48.705841064453125, 0, 0 ] ] ], [ [ [ 158.3056182861328, 0, 0 ] ] ], [ [ [ 866, 0, 0 ] ], [ [ 866, 0, 0 ] ] ], [ [ [ 431.1921081542969, 0, 0 ] ] ], [ [ [ 443.6004943847656, 0, 0 ] ], [ [ 443.60101318359375, 0, 0 ] ], [ [ 443.60101318359375, 0, 0 ] ], [ [ 443.60101318359375, 0, 0 ] ] ], [ [ [ 49.72054672241211, 0, 0 ] ] ], [ [ [ 432.5857849121094, 0, 0 ] ], [ [ 432.5857849121094, 0, 0 ] ], [ [ 432.5857849121094, 0, 0 ] ], [ [ 432.5857849121094, 0, 0 ] ] ], [ [ [ 43.01638412475586, 0, 0 ] ] ], [ [ [ 188.2549285888672, 0, 0 ] ] ], [ [ [ 448.60748291015625, 0, 0 ] ] ], [ [ [ 43.67817687988281, 0, 0 ] ] ], [ [ [ 172.2332305908203, 0, 0 ] ] ], [ [ [ 171.73104858398438, 0, 0 ] ] ], [ [ [ 43.45390319824219, 0, 0 ] ] ], [ [ [ 86.68875885009766, 0, 0 ] ] ], [ [ [ 156.22833251953125, 0, 0 ] ] ], [ [ [ 44.05841827392578, 0, 0 ] ] ], [ [ [ 169.2438507080078, 0, 0 ] ] ], [ [ [ 137.1993408203125, 0, 0 ] ] ], [ [ [ 51.839744567871094, 0, 0 ] ] ], [ [ [ 88.77603912353516, 0, 0 ] ] ], [ [ [ 42.79960632324219, 0, 0 ] ] ], [ [ [ 170.4903564453125, 0, 0 ] ] ], [ [ [ 193.44189453125, 0, 0 ] ] ], [ [ [ 169.6192169189453, 0, 2.901766777038574 ] ] ], [ [ [ 237.23484802246094, 0, 0 ] ] ], [ [ [ 522.124267578125, 0, 0 ] ] ], [ [ [ 85.59921264648438, 0, 0 ] ] ], [ [ [ 235.75970458984375, 0, 0 ] ] ], [], [ [ [ 657.6455078125, 0, 0 ] ] ], [ [ [ 86.85802459716797, 0, 0 ] ] ], [ [ [ 215.9306182861328, 0, 0 ] ] ], [ [ [ 522.2293701171875, 0, 0 ] ] ], [ [ [ 218.95982360839844, 0, 0 ] ] ], [ [ [ 167.6382598876953, 0, 0 ] ] ], [ [ [ 111.10449981689453, 0, 0 ] ] ], [ [ [ 158.84779357910156, 0, 0 ] ] ], [ [ [ 457.57781982421875, 0, 0 ] ] ], [ [ [ 672.9085693359375, 0.00002652926377777476, 0 ] ], [ [ 1199.35498046875, 0, 0 ] ], [ [ 0, 0, 0 ] ] ], [ [ [ 43.34437942504883, 0, 0 ] ] ], [ [ [ 133.82127380371094, 0, 0 ] ] ], [ [ [ 165.34324645996094, 0, 0 ] ] ], [ [ [ 109.3409423828125, 0, 0 ] ] ], [ [ [ 59.53801345825195, 0, 0 ] ] ], [], [ [ [ 163.47691345214844, 0, 0 ] ] ], [ [ [ 242.84100341796875, 0, 0 ] ] ], [ [ [ 78.75924682617188, 0, 0 ] ] ], [ [ [ 78.75924682617188, 0, 0 ] ] ], [ [ [ 1199.35498046875, 0, 0 ] ] ], [ [ [ 1199.3548583984375, 0, 0 ] ] ], [ [ [ 111.51055908203125, 0, 0 ] ] ], [ [ [ 88.8559799194336, 0, 0 ] ] ], [ [ [ 155.35064697265625, 0, 0 ] ] ], [ [ [ 146.11729431152344, 0, 0 ] ] ], [ [ [ 86.68875885009766, 0, 0 ] ] ], [ [ [ 158.3056182861328, 0, 0 ] ] ], [ [ [ 107.66537475585938, 0, 0 ] ] ], [ [ [ 73.05864715576172, 0, 0 ] ] ], [ [ [ 105.26329040527344, 0, 0 ] ] ], [ [ [ 157.3514862060547, 0, 0 ] ] ], [ [ [ 81.59834289550781, 0, 0 ] ] ], [ [ [ 342.2220764160156, 0, 0 ] ] ], [ [ [ 73.05864715576172, 0, 0 ] ] ], [ [ [ 87.94286346435547, 0, 0 ] ] ], [ [ [ 87.94286346435547, 0, 0 ] ] ], [ [ [ 73.05864715576172, 0, 0 ] ] ], [ [ [ 86.3724594116211, 0, 0 ] ] ], [ [ [ 76.90383911132812, 0, 0 ] ] ] ]
var cube_pos_under = []
var index_null = 0
var index_null_under = 0
var index_null_under_under = 0
loader.load(
    'untitled2.gltf', // URL of the glTF file
    function ( gltf ) { // On load complete callback function
        // Add the loaded glTF model to the scene
        scene.add( gltf.scene );
		gltf.scene.traverse( function( object ) {
		    if ( object.name.includes( 'Path' ) ) {
				object.traverse( function( object_under ) {
				    if ( object_under.name.includes( 'Null' ) ) {
				    	object_under.position.x = null_pos[index_null][index_null_under][0]
				    	object_under.position.y = null_pos[index_null][index_null_under][1]
				    	object_under.position.z = null_pos[index_null][index_null_under][2]

						object_under.traverse( function( object_under_under ) {
						    if ( object_under_under.name.includes( 'Cube' ) ) {
						    	console.log('['+object_under_under.position.x+','+object_under_under.position.y+','+object_under_under.position.z)
						    	object_under_under.position.x = 0
						    	object_under_under.position.y = 0
						    	object_under_under.position.z = 0
				    			// console.log(index_null_under_under)
						    }
						} );

				    	index_null_under++
				    	index_null_under_under = 0
				    }
				    if ( object_under.name.includes( 'Null_45' ) ) {
				    }
				} );
		        pathObjects.push( object );
			index_null++
			index_null_under = 0
		    }
		} );
        animate();
    }
);
camera.position.z = 5;
const controls = new OrbitControls( camera, renderer.domElement );
controls.update();


var group_1 = new THREE.Group()

const cubeGeometry = new THREE.BoxGeometry( 1, 10 , 1 );
const cubeMaterial = new THREE.MeshBasicMaterial( { color: 0xff0000 } );
const cubeMesh = new THREE.Mesh( cubeGeometry, cubeMaterial );
group_1.add( cubeMesh );
scene.add(group_1)

// Create a render loop that updates the scene and camera
function animate() {
	counter++
	for (var i =  pathObjects.length - 1; i >= 0; i--) {
		 pathObjects[i].rotation.y = 0
		 pathObjects[i].rotation.x = 0
		 pathObjects[i].rotation.z = 0
		 pathObjects[i].position.y = 0
		 // pathObjects[i].position.x = 0
		 // pathObjects[i].position.z = 0
	}
    requestAnimationFrame( animate );
    renderer.render( scene, camera );
    controls.update(); // Update controls in each frame
}
</script>

	</body>
</html>